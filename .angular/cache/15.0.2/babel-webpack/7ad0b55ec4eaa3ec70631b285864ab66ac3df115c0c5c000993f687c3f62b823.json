{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/authentification.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction AdminConnectionComponent_form_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email ou mot de passe invalide \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminConnectionComponent_form_9_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" *Email is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminConnectionComponent_form_9_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, AdminConnectionComponent_form_9_div_5_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loginFormGroup.controls[\"email\"] == null ? null : ctx_r2.loginFormGroup.controls[\"email\"].errors == null ? null : ctx_r2.loginFormGroup.controls[\"email\"].errors[\"required\"]);\n  }\n}\nfunction AdminConnectionComponent_form_9_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" *Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminConnectionComponent_form_9_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, AdminConnectionComponent_form_9_div_7_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loginFormGroup.controls[\"password\"] == null ? null : ctx_r3.loginFormGroup.controls[\"password\"].errors == null ? null : ctx_r3.loginFormGroup.controls[\"password\"].errors[\"required\"]);\n  }\n}\nfunction AdminConnectionComponent_form_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 8)(1, \"p\", 9);\n    i0.ɵɵelement(2, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AdminConnectionComponent_form_9_div_3_Template, 3, 0, \"div\", 11);\n    i0.ɵɵelementStart(4, \"input\", 12);\n    i0.ɵɵlistener(\"click\", function AdminConnectionComponent_form_9_Template_input_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onInputClick());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AdminConnectionComponent_form_9_div_5_Template, 2, 1, \"div\", 13);\n    i0.ɵɵelementStart(6, \"input\", 14);\n    i0.ɵɵlistener(\"click\", function AdminConnectionComponent_form_9_Template_input_click_6_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onInputClick());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AdminConnectionComponent_form_9_div_7_Template, 2, 1, \"div\", 13);\n    i0.ɵɵelementStart(8, \"div\", 15)(9, \"div\", 16)(10, \"a\", 17);\n    i0.ɵɵtext(11, \"Mot de passe oubli\\u00E9?\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function AdminConnectionComponent_form_9_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.login());\n    });\n    i0.ɵɵtext(13, \"S'authentifier\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.loginFormGroup);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.mode == 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.loginFormGroup.controls[\"email\"] == null ? null : ctx_r0.loginFormGroup.controls[\"email\"][\"touched\"]) && (ctx_r0.loginFormGroup.controls[\"email\"] == null ? null : ctx_r0.loginFormGroup.controls[\"email\"][\"invalid\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.loginFormGroup.controls[\"password\"] == null ? null : ctx_r0.loginFormGroup.controls[\"password\"][\"touched\"]) && (ctx_r0.loginFormGroup.controls[\"password\"] == null ? null : ctx_r0.loginFormGroup.controls[\"password\"][\"invalid\"]));\n  }\n}\nexport class AdminConnectionComponent {\n  constructor(fb, authService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.mode = 0;\n  }\n  ngOnInit() {\n    this.loginFormGroup = this.fb.group({\n      email: [\"\", Validators.required],\n      password: [\"\", Validators.required]\n    });\n  }\n  onInputClick() {\n    this.mode = 0;\n  }\n  login() {\n    this.submitted = true;\n    if (this.loginFormGroup?.invalid) return;else {\n      this.authService.loginAdmin(this.loginFormGroup.value.email, this.loginFormGroup.value.password).subscribe(resp => {\n        console.log(resp.body);\n        if (resp.body == true) this.router.navigateByUrl(\"dashboard-admin\");else this.mode = 1;\n      }, error => {\n        this.mode = 1;\n      });\n    }\n  }\n  static #_ = this.ɵfac = function AdminConnectionComponent_Factory(t) {\n    return new (t || AdminConnectionComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthentificationService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminConnectionComponent,\n    selectors: [[\"app-admin-connection\"]],\n    decls: 10,\n    vars: 1,\n    consts: [[\"id\", \"my-connexion-body\"], [\"id\", \"form-container\"], [\"id\", \"right-form\"], [1, \"fa-solid\", \"fa-business-time\", 2, \"font-size\", \"xxx-large\"], [2, \"font-size\", \"xxx-large\"], [2, \"width\", \"50%\", \"text-align\", \"center\"], [\"id\", \"my-form\"], [\"style\", \"width: 90%\", \"class\", \"text-center p-5 \", \"action\", \"#!\", 3, \"formGroup\", 4, \"ngIf\"], [\"action\", \"#!\", 1, \"text-center\", \"p-5\", 2, \"width\", \"90%\", 3, \"formGroup\"], [1, \"h4\", \"mb-4\", 2, \"font-size\", \"6rem!important\", \"color\", \"#343a40\"], [1, \"fa-solid\", \"fa-circle-user\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"type\", \"email\", \"id\", \"defaultLoginFormEmail\", \"placeholder\", \"E-mail\", \"formControlName\", \"email\", 1, \"form-control\", \"mb-4\", 3, \"click\"], [\"class\", \"alert-danger\", 4, \"ngIf\"], [\"type\", \"password\", \"id\", \"defaultLoginFormPassword\", \"placeholder\", \"Mot de passe\", \"formControlName\", \"password\", 1, \"form-control\", \"mb-4\", 3, \"click\"], [1, \"d-flex\", \"justify-content-around\"], [2, \"margin-top\", \"1.5rem!important\"], [2, \"color\", \"#0e2888\", \"text-decoration\", \"underline\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"btn-block\", \"my-4\", 3, \"click\"], [1, \"alert\", \"alert-danger\"], [1, \"alert-danger\"], [4, \"ngIf\"]],\n    template: function AdminConnectionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelementStart(4, \"span\", 4);\n        i0.ɵɵtext(5, \"GEPPI\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 5);\n        i0.ɵɵtext(7, \" Gestion de Portefeuilles de Projets Informatiques\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵtemplate(9, AdminConnectionComponent_form_9_Template, 14, 4, \"form\", 7);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginFormGroup);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"#my-connexion-body[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  background: linear-gradient(to bottom, #12426c 0%, #3F3F3F 40%, #1C1C1C 150%), linear-gradient(to top, rgba(255,255,255,0.40) 0%, rgba(0,0,0,0.25) 200%);\\r\\n  background-blend-mode: multiply;\\r\\n\\r\\n  \\r\\n  \\r\\n\\r\\n  height: 100vh; \\r\\n  width:  100vw; \\r\\n  display: flex;\\r\\n}\\r\\n#right-form[_ngcontent-%COMP%]{\\r\\n  width: 50%;\\r\\n  background: #12426c;\\r\\n  color: white;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  flex-direction: column;\\r\\n  border-bottom-left-radius: 10px;\\r\\n  border-top-left-radius: 10px;\\r\\n}\\r\\n#form-container[_ngcontent-%COMP%]{\\r\\n  width: 60%;\\r\\n  display: flex;\\r\\n}\\r\\n#my-form[_ngcontent-%COMP%]{\\r\\n  width: 50%;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  height: 540px;\\r\\n  background: white;\\r\\n  border: #12426c 3px solid;\\r\\n  \\r\\n  border-bottom-right-radius: 10px;\\r\\n  border-top-right-radius: 10px;\\r\\n}\\r\\n.alert-danger[_ngcontent-%COMP%]{\\r\\n  color: red;\\r\\n  font-size: 14px;\\r\\n  text-align: left;\\r\\n}\\r\\n.form-control[_ngcontent-%COMP%]{\\r\\n  margin-top: 1.5rem!important;\\r\\n  margin-bottom: 0!important;\\r\\n}\\n/*# sourceURL=webpack://./src/app/components/admin-connection/admin-connection.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi1jb25uZWN0aW9uL2FkbWluLWNvbm5lY3Rpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLHdKQUF3SjtFQUN4SiwrQkFBK0I7O0VBRS9CLHdKQUF3SjtFQUN4SixpQ0FBaUM7O0VBRWpDLGFBQWEsRUFBRSwyQkFBMkI7RUFDMUMsYUFBYSxFQUFFLDBCQUEwQjtFQUN6QyxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFVBQVU7RUFDVixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QiwrQkFBK0I7RUFDL0IsNEJBQTRCO0FBQzlCO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsYUFBYTtBQUNmO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsNkNBQTZDO0VBQzdDLGdDQUFnQztFQUNoQyw2QkFBNkI7QUFDL0I7QUFDQTtFQUNFLFVBQVU7RUFDVixlQUFlO0VBQ2YsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSw0QkFBNEI7RUFDNUIsMEJBQTBCO0FBQzVCIiwic291cmNlc0NvbnRlbnQiOlsiI215LWNvbm5leGlvbi1ib2R5e1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjMTI0MjZjIDAlLCAjM0YzRjNGIDQwJSwgIzFDMUMxQyAxNTAlKSwgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiYSgyNTUsMjU1LDI1NSwwLjQwKSAwJSwgcmdiYSgwLDAsMCwwLjI1KSAyMDAlKTtcclxuICBiYWNrZ3JvdW5kLWJsZW5kLW1vZGU6IG11bHRpcGx5O1xyXG5cclxuICAvKmJhY2tncm91bmQtaW1hZ2U6IHJhZGlhbC1ncmFkaWVudCg3MyUgMTQ3JSwgI0VBREZERiA1OSUsICNFQ0UyREYgMTAwJSksIHJhZGlhbC1ncmFkaWVudCg5MSUgMTQ2JSwgcmdiYSgyNTUsMjU1LDI1NSwwLjUwKSA0NyUsIHJnYmEoMCwwLDAsMC41MCkgMTAwJSk7Ki9cclxuICAvKmJhY2tncm91bmQtYmxlbmQtbW9kZTogc2NyZWVuOyovXHJcblxyXG4gIGhlaWdodDogMTAwdmg7IC8qIEZvciAxMDAlIHNjcmVlbiBoZWlnaHQgKi9cclxuICB3aWR0aDogIDEwMHZ3OyAvKiBGb3IgMTAwJSBzY3JlZW4gd2lkdGggKi9cclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbiNyaWdodC1mb3Jte1xyXG4gIHdpZHRoOiA1MCU7XHJcbiAgYmFja2dyb3VuZDogIzEyNDI2YztcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTBweDtcclxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4O1xyXG59XHJcbiNmb3JtLWNvbnRhaW5lcntcclxuICB3aWR0aDogNjAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuI215LWZvcm17XHJcbiAgd2lkdGg6IDUwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgaGVpZ2h0OiA1NDBweDtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICBib3JkZXI6ICMxMjQyNmMgM3B4IHNvbGlkO1xyXG4gIC8qYm9yZGVyOiAycHggc29saWQgcmdiYSgxMzYsIDE0LCA3OSwgMC4yNik7Ki9cclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcclxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTBweDtcclxufVxyXG4uYWxlcnQtZGFuZ2Vye1xyXG4gIGNvbG9yOiByZWQ7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuLmZvcm0tY29udHJvbHtcclxuICBtYXJnaW4tdG9wOiAxLjVyZW0haW1wb3J0YW50O1xyXG4gIG1hcmdpbi1ib3R0b206IDAhaW1wb3J0YW50O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAAgCA,UAAU,QAAO,gBAAgB;;;;;;;;ICYzDC,+BAAgD;IACtCA,+CAA+B;IAAAA,iBAAS;;;;;IAWhDA,2BAAoE;IAACA,oCAAmB;IAAAA,iBAAM;;;;;IADhGA,+BAAmI;IACjIA,uFAA8F;IAChGA,iBAAM;;;;IADEA,eAA4D;IAA5DA,0MAA4D;;;;;IAWlEA,2BAAuE;IAACA,uCAAsB;IAAAA,iBAAM;;;;;IADtGA,+BAAyI;IACvIA,uFAAoG;IACtGA,iBAAM;;;;IADEA,eAA+D;IAA/DA,mNAA+D;;;;;;IA1BzEA,+BAAmH;IAE5CA,wBAAuC;IAAAA,iBAAI;IAChHA,iFAEM;IAGNA,iCAA+I;IAAxIA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAA/BA,iBAA+I;IAM/IA,iFAEM;IAGNA,iCAA8J;IAAvJA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAA/BA,iBAA8J;IAM9JA,iFAEM;IACNA,+BAA2C;IAKgBA,0CAAoB;IAAAA,iBAAI;IAKnFA,mCAA4E;IAAlBA;MAAAA;MAAA;MAAA,OAASA,6BAAO;IAAA,EAAC;IAACA,+BAAc;IAAAA,iBAAS;;;;IAtC9FA,iDAA4B;IAGAA,eAAa;IAAbA,uCAAa;IAWnBA,eAAqG;IAArGA,qPAAqG;IAWrGA,eAA2G;IAA3GA,iQAA2G;;;ADzB9I,OAAM,MAAOC,wBAAwB;EAEnCC,YAAoBC,EAAc,EAASC,WAAmC,EACnEC,MAAa;IADJ,OAAE,GAAFF,EAAE;IAAqB,gBAAW,GAAXC,WAAW;IAC3C,WAAM,GAANC,MAAM;IAFjB,SAAI,GAAQ,CAAC;EAEe;EAG5BC,QAAQ;IACN,IAAI,CAACC,cAAc,GAAC,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MAChCC,KAAK,EAAE,CAAC,EAAE,EAACV,UAAU,CAACW,QAAQ,CAAC;MAC/BC,QAAQ,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ;KACnC,CAAC;EAEJ;EACAE,YAAY;IACV,IAAI,CAACC,IAAI,GAAC,CAAC;EACb;EACAC,KAAK;IACH,IAAI,CAACC,SAAS,GAAC,IAAI;IACnB,IAAG,IAAI,CAACR,cAAc,EAAES,OAAO,EAAE,OAAO,KACpC;MACF,IAAI,CAACZ,WAAW,CAACa,UAAU,CAAC,IAAI,CAACV,cAAc,CAACW,KAAK,CAACT,KAAK,EAAC,IAAI,CAACF,cAAc,CAACW,KAAK,CAACP,QAAQ,CAAC,CAACQ,SAAS,CACvGC,IAAI,IAAE;QACFC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,CAAC;QACtB,IAAGH,IAAI,CAACG,IAAI,IAAE,IAAI,EAChB,IAAI,CAAClB,MAAM,CAACmB,aAAa,CAAC,iBAAiB,CAAC,MAE5C,IAAI,CAACX,IAAI,GAAC,CAAC;MACjB,CAAC,EACDY,KAAK,IAAG;QACN,IAAI,CAACZ,IAAI,GAAC,CAAC;MACb,CAAC,CACF;;EAEL;EAAC;qBAjCUZ,wBAAwB;EAAA;EAAA;UAAxBA,wBAAwB;IAAAyB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCVrC9B,8BAA4B;QAGtBA,uBAAuE;QACvEA,+BAAoC;QAAAA,qBAAK;QAAAA,iBAAO;QAChDA,4BAAyC;QAACA,kEAAiD;QAAAA,iBAAI;QAIjGA,8BAAkB;QAChBA,4EAyCO;QACTA,iBAAM;;;QA1CiCA,eAAoB;QAApBA,yCAAoB","names":["Validators","i0","AdminConnectionComponent","constructor","fb","authService","router","ngOnInit","loginFormGroup","group","email","required","password","onInputClick","mode","login","submitted","invalid","loginAdmin","value","subscribe","resp","console","log","body","navigateByUrl","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Info3\\Design Patterns\\projet\\GestionGarderieFront\\src\\app\\components\\admin-connection\\admin-connection.component.ts","D:\\Info3\\Design Patterns\\projet\\GestionGarderieFront\\src\\app\\components\\admin-connection\\admin-connection.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\r\nimport {Router} from \"@angular/router\";\r\nimport {AuthentificationService} from \"../../services/authentification.service\";\r\n\r\n@Component({\r\n  selector: 'app-admin-connection',\r\n  templateUrl: './admin-connection.component.html',\r\n  styleUrls: ['./admin-connection.component.css']\r\n})\r\nexport class AdminConnectionComponent {\r\n  mode:number=0;\r\n  constructor(private fb:FormBuilder,private authService:AuthentificationService\r\n    ,private router:Router) { }\r\n  loginFormGroup!:FormGroup;\r\n  submitted: boolean | undefined;\r\n  ngOnInit(): void {\r\n    this.loginFormGroup=this.fb.group({\r\n      email: [\"\",Validators.required],\r\n      password: [\"\", Validators.required]\r\n    });\r\n\r\n  }\r\n  onInputClick(){\r\n    this.mode=0;\r\n  }\r\n  login() {\r\n    this.submitted=true;\r\n    if(this.loginFormGroup?.invalid) return;\r\n    else{\r\n      this.authService.loginAdmin(this.loginFormGroup.value.email,this.loginFormGroup.value.password).subscribe(\r\n        resp=>{\r\n            console.log(resp.body);\r\n            if(resp.body==true)\r\n              this.router.navigateByUrl(\"dashboard-admin\")\r\n            else\r\n              this.mode=1;\r\n        },\r\n        error => {\r\n          this.mode=1;\r\n        }\r\n      )\r\n    }\r\n  }\r\n}\r\n","<div id=\"my-connexion-body\">\r\n  <div id=\"form-container\">\r\n    <div id=\"right-form\">\r\n      <i style=\"font-size: xxx-large;\" class=\"fa-solid fa-business-time\"></i>\r\n      <span style=\"font-size: xxx-large;\">GEPPI</span>\r\n      <p style=\"width: 50%;text-align: center\"> Gestion de Portefeuilles de Projets Informatiques</p>\r\n\r\n    </div>\r\n    <!-- Default form login -->\r\n    <div id=\"my-form\">\r\n      <form  [formGroup]=\"loginFormGroup\" *ngIf=\"loginFormGroup\" style=\"width: 90%\" class=\"text-center p-5 \" action=\"#!\">\r\n\r\n        <p class=\"h4 mb-4\" style=\"font-size: 6rem!important; color:#343a40;\"><i class=\"fa-solid fa-circle-user\"></i></p>\r\n        <div class=\"alert alert-danger\" *ngIf=\"mode==1\">\r\n          <strong>Email ou mot de passe invalide </strong>\r\n        </div>\r\n\r\n        <!-- Email -->\r\n        <input (click)=\"onInputClick()\" type=\"email\" id=\"defaultLoginFormEmail\" class=\"form-control mb-4\" placeholder=\"E-mail\" formControlName=\"email\">\r\n<!--               [ngClass]=\"{'is-invalid': submitted && loginFormGroup.controls.email.errors}\">-->\r\n<!--        <div *ngIf=\"submitted && loginFormGroup.controls.email.errors\" class=-->\r\n<!--          \"invalid-feedback\">-->\r\n<!--          <div *ngIf=\"loginFormGroup.controls.email.errors.required\">Ce champs est obligatoire</div>-->\r\n<!--        </div>-->\r\n        <div class=\"alert-danger\" *ngIf=\"loginFormGroup.controls['email']?.['touched'] &&  loginFormGroup.controls['email']?.['invalid']\" >\r\n          <div *ngIf=\"loginFormGroup.controls['email']?.errors?.['required']\"> *Email is required </div>\r\n        </div>\r\n\r\n        <!-- Password -->\r\n        <input (click)=\"onInputClick()\" type=\"password\" id=\"defaultLoginFormPassword\" class=\"form-control mb-4\" placeholder=\"Mot de passe\" formControlName=\"password\">\r\n<!--               [ngClass]=\"{'is-invalid': submitted && loginFormGroup.controls.password.errors}\">-->\r\n<!--        <div *ngIf=\"submitted && loginFormGroup.controls.password.errors\" class=-->\r\n<!--          \"invalid-feedback\">-->\r\n<!--          <div *ngIf=\"loginFormGroup.controls.password.errors.required\">Ce champs est obligatoire</div>-->\r\n<!--        </div>-->\r\n        <div class=\"alert-danger\" *ngIf=\"loginFormGroup.controls['password']?.['touched'] &&  loginFormGroup.controls['password']?.['invalid']\" >\r\n          <div *ngIf=\"loginFormGroup.controls['password']?.errors?.['required']\"> *Password is required </div>\r\n        </div>\r\n        <div class=\"d-flex justify-content-around\">\r\n\r\n\r\n          <div style=\"margin-top: 1.5rem!important;\">\r\n            <!-- Forgot password -->\r\n            <a style=\"color: #0e2888;text-decoration: underline; \">Mot de passe oublié?</a>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Sign in button -->\r\n        <button class=\"btn btn-dark btn-block my-4\" type=\"submit\" (click)=\"login()\">S'authentifier</button>\r\n\r\n\r\n      </form>\r\n    </div>\r\n    <!-- Default form login -->\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}