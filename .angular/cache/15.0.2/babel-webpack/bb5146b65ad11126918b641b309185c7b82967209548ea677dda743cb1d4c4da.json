{"ast":null,"code":"import { FormControl, Validators } from \"@angular/forms\";\nimport { DonneesPayementModel } from \"../../models/donneePayement.model\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/http.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../nav-bar-top/nav-bar-top.component\";\nfunction ParentPageComponent_div_1_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵelement(1, \"i\", 33)(2, \"i\", 34);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ParentPageComponent_div_1_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵelement(1, \"i\", 33)(2, \"i\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ParentPageComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"p\", 25);\n    i0.ɵɵtext(5, \"Payement \");\n    i0.ɵɵtemplate(6, ParentPageComponent_div_1_span_6_Template, 3, 0, \"span\", 26);\n    i0.ɵɵtemplate(7, ParentPageComponent_div_1_span_7_Template, 3, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 28);\n    i0.ɵɵelement(9, \"i\", 29);\n    i0.ɵɵtext(10, \" Paypal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 30);\n    i0.ɵɵelement(12, \"i\", 31);\n    i0.ɵɵtext(13, \"Carte de cr\\u00E9dit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Bienvenu \", ctx_r0.parent.nom, \" \", ctx_r0.parent.prenom, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.parent.statutPayement == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.parent.statutPayement == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.parent.statutPayement == true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.parent.statutPayement == true);\n  }\n}\nfunction ParentPageComponent_div_2_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵelement(1, \"i\", 33)(2, \"i\", 34);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ParentPageComponent_div_2_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵelement(1, \"i\", 33)(2, \"i\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ParentPageComponent_div_2_div_18_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Niveau : \", ctx_r7.enfant.niveau.nom, \"\");\n  }\n}\nfunction ParentPageComponent_div_2_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"h4\", 39);\n    i0.ɵɵtext(2, \"Informations de l'enfant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 40);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 40);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ParentPageComponent_div_2_div_18_p_9_Template, 2, 1, \"p\", 43);\n    i0.ɵɵelementStart(10, \"p\", 40);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Nom : \", ctx_r6.enfant.nom, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Prenom : \", ctx_r6.parent.prenom, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Age : \", ctx_r6.enfant.age, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.enfant.niveau);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Infos : \", ctx_r6.enfant.type, \"\");\n  }\n}\nfunction ParentPageComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"h4\", 39);\n    i0.ɵɵtext(3, \"Informations du parent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 40);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 40);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 40);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 40);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 40);\n    i0.ɵɵtext(15, \"Statut de payement : \");\n    i0.ɵɵtemplate(16, ParentPageComponent_div_2_span_16_Template, 3, 0, \"span\", 26);\n    i0.ɵɵtemplate(17, ParentPageComponent_div_2_span_17_Template, 3, 0, \"span\", 27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, ParentPageComponent_div_2_div_18_Template, 12, 5, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Nom : \", ctx_r1.parent.nom, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Prenom : \", ctx_r1.parent.prenom, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"CNE : \", ctx_r1.parent.cne, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email : \", ctx_r1.parent.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Numero de telephone : \", ctx_r1.parent.tel, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.parent.statutPayement == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.parent.statutPayement == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enfant);\n  }\n}\nexport class ParentPageComponent {\n  constructor(route, httpService, http, fb) {\n    this.route = route;\n    this.httpService = httpService;\n    this.http = http;\n    this.fb = fb;\n  }\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.httpService.getParent(this.id).subscribe(result => {\n      this.parent = result.body;\n    });\n    this.httpService.getEnfantByParentId(this.id).subscribe(result => {\n      this.enfant = result.body;\n    });\n    this.initPaypal();\n    this.initCarteCredit();\n  }\n  initPaypal() {\n    this.paypalFormGroup = this.fb.group({\n      identifiant: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n  initCarteCredit() {\n    this.carteDeCreditFormGroup = this.fb.group({\n      numeroCarte: new FormControl('', [Validators.required]),\n      cryptogramme: new FormControl('', [Validators.required])\n    });\n  }\n  payerParPaypal() {\n    let donneesPayement = new DonneesPayementModel();\n    donneesPayement.identifiant = this.paypalFormGroup.value.identifiant;\n    donneesPayement.password = this.paypalFormGroup.value.password;\n    console.log(donneesPayement);\n    // this.http.post(environment.apiUrl+\"parent/payer/\"+this.id+\"/paypal\",donneesPayement);\n    this.httpService.payer(this.id, \"paypal\", donneesPayement).subscribe(result => {\n      this.httpService.getParent(this.id).subscribe(result => {\n        this.parent = result.body;\n      });\n    });\n  }\n  payerParCarte() {\n    let donneesPayement = new DonneesPayementModel();\n    donneesPayement.identifiant = this.paypalFormGroup.value.identifiant;\n    donneesPayement.password = this.paypalFormGroup.value.password;\n    console.log(donneesPayement);\n    // this.http.post(environment.apiUrl+\"parent/payer/\"+this.id+\"/paypal\",donneesPayement);\n    this.httpService.payer(this.id, \"carte\", donneesPayement).subscribe(result => {\n      this.httpService.getParent(this.id).subscribe(result => {\n        this.parent = result.body;\n      });\n    });\n  }\n  static #_ = this.ɵfac = function ParentPageComponent_Factory(t) {\n    return new (t || ParentPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ParentPageComponent,\n    selectors: [[\"app-parent-page\"]],\n    decls: 45,\n    vars: 4,\n    consts: [[\"class\", \"container mt-5 m-5\", \"style\", \"display: flex;justify-content: space-between;margin-bottom: 0px!important;\", 4, \"ngIf\"], [\"style\", \"display: flex; justify-content:space-evenly\", 4, \"ngIf\"], [\"id\", \"myModal1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\"], [1, \"container\", 2, \"width\", \"80%\"], [1, \"container\", \"mr-5\", \"mt-5\"], [3, \"formGroup\"], [1, \"form-group\", \"mt-3\"], [\"for\", \"identifiant\"], [\"type\", \"text\", \"id\", \"identifiant\", \"placeholder\", \"Identifiant\", \"formControlName\", \"identifiant\", 1, \"form-control\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Mot de passe\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"modal-footer\", 2, \"margin-top\", \"20px\", \"display\", \"flex\", \"justify-content\", \"center\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 2, \"width\", \"80%\", 3, \"click\"], [\"id\", \"myModal2\", 1, \"modal\", \"fade\"], [\"for\", \"numeroCarte\"], [\"type\", \"text\", \"id\", \"numeroCarte\", \"placeholder\", \"Num\\u00E9ro de la carte\", \"formControlName\", \"numeroCarte\", 1, \"form-control\"], [\"for\", \"cryptogramme\"], [\"type\", \"cryptogramme\", \"id\", \"cryptogramme\", \"placeholder\", \"Cryptogramme\", \"formControlName\", \"cryptogramme\", 1, \"form-control\"], [1, \"container\", \"mt-5\", \"m-5\", 2, \"display\", \"flex\", \"justify-content\", \"space-between\", \"margin-bottom\", \"0px!important\"], [2, \"border\", \"1px dotted gray\", \"border-radius\", \"5px\", \"padding\", \"10px\"], [1, \"payement\"], [\"style\", \"color: #0bd000\", 4, \"ngIf\"], [\"style\", \"color: darkred\", 4, \"ngIf\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#myModal1\", \"routerLink\", \"/add-parent\", 1, \"btn\", \"btn-light\", 2, \"float\", \"right\", \"width\", \"200px\", \"background\", \"#011533\", \"color\", \"white\", 3, \"disabled\"], [1, \"fa-brands\", \"fa-paypal\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#myModal2\", \"routerLink\", \"/add-parent\", 1, \"btn\", \"btn-light\", 2, \"float\", \"right\", \"width\", \"200px\", \"margin-right\", \"10px\", \"background\", \"#011533\", \"color\", \"white\", 3, \"disabled\"], [1, \"fa-solid\", \"fa-credit-card\", 2, \"margin-right\", \"10px\"], [2, \"color\", \"#0bd000\"], [1, \"fa-solid\", \"fa-sack-dollar\"], [1, \"fa-sharp\", \"fa-solid\", \"fa-check\"], [2, \"color\", \"darkred\"], [1, \"fa-solid\", \"fa-xmark\"], [2, \"display\", \"flex\", \"justify-content\", \"space-evenly\"], [1, \"card\"], [1, \"card-title\"], [1, \"champs-parent\"], [\"class\", \"card card2\", 4, \"ngIf\"], [1, \"card\", \"card2\"], [\"class\", \"champs-parent\", 4, \"ngIf\"]],\n    template: function ParentPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav-bar-top\");\n        i0.ɵɵtemplate(1, ParentPageComponent_div_1_Template, 14, 6, \"div\", 0);\n        i0.ɵɵtemplate(2, ParentPageComponent_div_2_Template, 19, 8, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h4\", 6);\n        i0.ɵɵtext(8, \"Payer par paypal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"button\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"form\", 10)(13, \"div\", 11)(14, \"label\", 12);\n        i0.ɵɵtext(15, \"Identifiant \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 11)(18, \"label\", 14);\n        i0.ɵɵtext(19, \"Mot de passe \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 15);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(21, \"div\", 16)(22, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ParentPageComponent_Template_button_click_22_listener() {\n          return ctx.payerParPaypal();\n        });\n        i0.ɵɵtext(23, \"Payer\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(24, \"div\", 18)(25, \"div\", 3)(26, \"div\", 4)(27, \"div\", 5)(28, \"h4\", 6);\n        i0.ɵɵtext(29, \"Payer par carte de cr\\u00E9dit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"button\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 8)(32, \"div\", 9)(33, \"form\", 10)(34, \"div\", 11)(35, \"label\", 19);\n        i0.ɵɵtext(36, \"Num\\u00E9ro de la carte \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 11)(39, \"label\", 21);\n        i0.ɵɵtext(40, \"Cryptogramme \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"input\", 22);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(42, \"div\", 16)(43, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ParentPageComponent_Template_button_click_43_listener() {\n          return ctx.payerParCarte();\n        });\n        i0.ɵɵtext(44, \"Payer\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.parent);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.parent);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"formGroup\", ctx.paypalFormGroup);\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"formGroup\", ctx.carteDeCreditFormGroup);\n      }\n    },\n    dependencies: [i5.NgIf, i1.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i6.NavBarTopComponent],\n    styles: [\".card[_ngcontent-%COMP%]{\\r\\n  width: 500px;\\r\\n  margin: 40px;\\r\\n  height: 500px;\\r\\n  background: aliceblue;\\r\\n}\\r\\n.card2[_ngcontent-%COMP%]{\\r\\n  width: 700px;\\r\\n  margin: 40px;\\r\\n  height: 400px;\\r\\n  background: #0dcaf05e;\\r\\n}\\r\\n.champs-parent[_ngcontent-%COMP%]{\\r\\n  font-size: large;\\r\\n  margin: 20px;\\r\\n  border-bottom: 1px solid #8080804a;\\r\\n}\\r\\n.card-title[_ngcontent-%COMP%]{\\r\\n  text-align: center;\\r\\n  margin: 10px;\\r\\n  border-bottom: 1px solid gray;\\r\\n}\\r\\n.payement[_ngcontent-%COMP%]{\\r\\n  position: absolute;\\r\\n  top: 105px;\\r\\n  background: white;\\r\\n}\\n/*# sourceURL=webpack://./src/app/components/parent-page/parent-page.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wYXJlbnQtcGFnZS9wYXJlbnQtcGFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7RUFDWixhQUFhO0VBQ2IscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxZQUFZO0VBQ1osWUFBWTtFQUNaLGFBQWE7RUFDYixxQkFBcUI7QUFDdkI7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0NBQWtDO0FBQ3BDO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLDZCQUE2QjtBQUMvQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuICB3aWR0aDogNTAwcHg7XHJcbiAgbWFyZ2luOiA0MHB4O1xyXG4gIGhlaWdodDogNTAwcHg7XHJcbiAgYmFja2dyb3VuZDogYWxpY2VibHVlO1xyXG59XHJcbi5jYXJkMntcclxuICB3aWR0aDogNzAwcHg7XHJcbiAgbWFyZ2luOiA0MHB4O1xyXG4gIGhlaWdodDogNDAwcHg7XHJcbiAgYmFja2dyb3VuZDogIzBkY2FmMDVlO1xyXG59XHJcbi5jaGFtcHMtcGFyZW50e1xyXG4gIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgbWFyZ2luOiAyMHB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjODA4MDgwNGE7XHJcbn1cclxuLmNhcmQtdGl0bGV7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgZ3JheTtcclxufVxyXG4ucGF5ZW1lbnR7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMTA1cHg7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AAKA,SAAqBA,WAAW,EAAaC,UAAU,QAAO,gBAAgB;AAC9E,SAAQC,oBAAoB,QAAO,mCAAmC;;;;;;;;;;ICAhEC,gCAAiE;IAAAA,wBAAuC;IAA2CA,iBAAO;;;;;IAC1JA,gCAAkE;IAAAA,wBAAuC;IAAkCA,iBAAO;;;;;IANxJA,+BAAkI;IAE3HA,YAA0C;IAAAA,iBAAK;IACpDA,+BAAsE;IAChDA,yBAClB;IAAAA,6EAA0J;IAC1JA,6EAAkJ;IACpJA,iBAAI;IACNA,kCAEqG;IAACA,wBAAmC;IAACA,wBAAM;IAAAA,iBAAS;IACzJA,mCAEwH;IACtHA,yBAAmE;IAAAA,qCAAe;IAAAA,iBAAS;;;;IAZxFA,eAA0C;IAA1CA,qFAA0C;IAGpCA,eAAiC;IAAjCA,2DAAiC;IACjCA,eAAkC;IAAlCA,4DAAkC;IAEfA,eAAwC;IAAxCA,+DAAwC;IAGxCA,eAAwC;IAAxCA,+DAAwC;;;;;IAepEA,gCAAiE;IAAAA,wBAAuC;IAA2CA,iBAAO;;;;;IAC1JA,gCAAkE;IAAAA,wBAAuC;IAAkCA,iBAAO;;;;;IAQlJA,6BAA+C;IAAAA,YAA8B;IAAAA,iBAAI;;;;IAAlCA,eAA8B;IAA9BA,gEAA8B;;;;;IAL/EA,+BAAuC;IACdA,wCAAwB;IAAAA,iBAAK;IACpDA,6BAAyB;IAAAA,YAAoB;IAAAA,iBAAI;IACjDA,6BAAyB;IAAAA,YAA0B;IAAAA,iBAAI;IACvDA,6BAAyB;IAAAA,YAAoB;IAAAA,iBAAI;IACjDA,8EAAiF;IACjFA,8BAAyB;IAAAA,aAAuB;IAAAA,iBAAI;;;;IAJ3BA,eAAoB;IAApBA,sDAAoB;IACpBA,eAA0B;IAA1BA,4DAA0B;IAC1BA,eAAoB;IAApBA,sDAAoB;IACnBA,eAAmB;IAAnBA,2CAAmB;IACpBA,eAAuB;IAAvBA,yDAAuB;;;;;IAnBpDA,+BAAwE;IAE7CA,sCAAsB;IAAAA,iBAAK;IACpDA,6BAAyB;IAAAA,YAAoB;IAAAA,iBAAI;IACjDA,6BAAyB;IAAAA,YAA0B;IAAAA,iBAAI;IACvDA,6BAAyB;IAAAA,YAAoB;IAAAA,iBAAI;IACjDA,8BAAyB;IAAAA,aAAwB;IAAAA,iBAAI;IACrDA,8BAAyB;IAAAA,aAAoC;IAAAA,iBAAI;IACjEA,8BAAyB;IAAAA,sCACvB;IAAAA,+EAA0J;IAC1JA,+EAAkJ;IACpJA,iBAAI;IAEJA,8EAQM;IACRA,iBAAM;;;;IAnBqBA,eAAoB;IAApBA,sDAAoB;IACpBA,eAA0B;IAA1BA,4DAA0B;IAC1BA,eAAoB;IAApBA,sDAAoB;IACpBA,eAAwB;IAAxBA,0DAAwB;IACxBA,eAAoC;IAApCA,sEAAoC;IAEpDA,eAAiC;IAAjCA,2DAAiC;IACjCA,eAAkC;IAAlCA,4DAAkC;IAGrCA,eAAY;IAAZA,oCAAY;;;ADhBpB,OAAM,MAAOC,mBAAmB;EAM9BC,YAAoBC,KAAoB,EAASC,WAAuB,EAChEC,IAAgB,EAChBC,EAAgB;IAFJ,UAAK,GAALH,KAAK;IAAwB,gBAAW,GAAXC,WAAW;IACpD,SAAI,GAAJC,IAAI;IACJ,OAAE,GAAFC,EAAE;EACV;EAEAC,QAAQ;IACN,IAAI,CAACC,EAAE,GAAG,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAChD,IAAI,CAACP,WAAW,CAACQ,SAAS,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,MAAM,IAAE;MAEpD,IAAI,CAACC,MAAM,GAACD,MAAM,CAACE,IAAI;IACzB,CAAC,CAAC;IACF,IAAI,CAACZ,WAAW,CAACa,mBAAmB,CAAC,IAAI,CAACT,EAAE,CAAC,CAACK,SAAS,CAACC,MAAM,IAAE;MAE9D,IAAI,CAACI,MAAM,GAACJ,MAAM,CAACE,IAAI;IACzB,CAAC,CAAC;IACF,IAAI,CAACG,UAAU,EAAE;IACjB,IAAI,CAACC,eAAe,EAAE;EACxB;EACAD,UAAU;IACR,IAAI,CAACE,eAAe,GAAG,IAAI,CAACf,EAAE,CAACgB,KAAK,CAAC;MACnCC,WAAW,EAAE,IAAI1B,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAAC0B,QAAQ,CAAC,CAAC;MACvDC,QAAQ,EAAE,IAAI5B,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAAC0B,QAAQ,CAAC;KACpD,CAAC;EACJ;EACAJ,eAAe;IACb,IAAI,CAACM,sBAAsB,GAAG,IAAI,CAACpB,EAAE,CAACgB,KAAK,CAAC;MAC1CK,WAAW,EAAE,IAAI9B,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAAC0B,QAAQ,CAAC,CAAC;MACvDI,YAAY,EAAE,IAAI/B,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAAC0B,QAAQ,CAAC;KACxD,CAAC;EACJ;EACAK,cAAc;IACZ,IAAIC,eAAe,GAAyB,IAAI/B,oBAAoB,EAAE;IACtE+B,eAAe,CAACP,WAAW,GAAC,IAAI,CAACF,eAAe,CAACU,KAAK,CAACR,WAAW;IAClEO,eAAe,CAACL,QAAQ,GAAC,IAAI,CAACJ,eAAe,CAACU,KAAK,CAACN,QAAQ;IAC5DO,OAAO,CAACC,GAAG,CAACH,eAAe,CAAC;IAC5B;IACA,IAAI,CAAC1B,WAAW,CAAC8B,KAAK,CAAC,IAAI,CAAC1B,EAAE,EAAC,QAAQ,EAACsB,eAAe,CAAC,CAACjB,SAAS,CAChEC,MAAM,IAAE;MACN,IAAI,CAACV,WAAW,CAACQ,SAAS,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,MAAM,IAAE;QAEpD,IAAI,CAACC,MAAM,GAACD,MAAM,CAACE,IAAI;MACzB,CAAC,CAAC;IACJ,CAAC,CACF;EACH;EACAmB,aAAa;IACX,IAAIL,eAAe,GAAyB,IAAI/B,oBAAoB,EAAE;IACtE+B,eAAe,CAACP,WAAW,GAAC,IAAI,CAACF,eAAe,CAACU,KAAK,CAACR,WAAW;IAClEO,eAAe,CAACL,QAAQ,GAAC,IAAI,CAACJ,eAAe,CAACU,KAAK,CAACN,QAAQ;IAC5DO,OAAO,CAACC,GAAG,CAACH,eAAe,CAAC;IAC5B;IACA,IAAI,CAAC1B,WAAW,CAAC8B,KAAK,CAAC,IAAI,CAAC1B,EAAE,EAAC,OAAO,EAACsB,eAAe,CAAC,CAACjB,SAAS,CAC/DC,MAAM,IAAE;MACN,IAAI,CAACV,WAAW,CAACQ,SAAS,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,MAAM,IAAE;QAEpD,IAAI,CAACC,MAAM,GAACD,MAAM,CAACE,IAAI;MACzB,CAAC,CAAC;IACJ,CAAC,CACF;EACH;EAAC;qBAjEUf,mBAAmB;EAAA;EAAA;UAAnBA,mBAAmB;IAAAmC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCfhCxC,kCAAmC;QACnCA,qEAgBM;QACNA,qEAsBM;QAGNA,8BAAsC;QAMNA,gCAAgB;QAAAA,iBAAK;QAC7CA,4BAAyE;QAC3EA,iBAAM;QAENA,+BAA2C;QAIVA,6BAAY;QAAAA,iBAAQ;QAC7CA,6BAAkH;QACpHA,iBAAM;QAENA,gCAA6B;QACLA,8BAAa;QAAAA,iBAAQ;QAC3CA,6BAAiH;QACnHA,iBAAM;QAOZA,gCAAyF;QACrBA;UAAA,OAASyC,oBAAgB;QAAA,EAAC;QAAyBzC,sBAAK;QAAAA,iBAAS;QAQ3IA,gCAAsC;QAMNA,+CAAyB;QAAAA,iBAAK;QACtDA,6BAAyE;QAC3EA,iBAAM;QAENA,+BAA2C;QAIVA,yCAAmB;QAAAA,iBAAQ;QACpDA,6BAAyH;QAC3HA,iBAAM;QAENA,gCAA6B;QACDA,8BAAa;QAAAA,iBAAQ;QAC/CA,6BAA6H;QAC/HA,iBAAM;QASZA,gCAAyF;QACrBA;UAAA,OAASyC,mBAAe;QAAA,EAAC;QAAyBzC,sBAAK;QAAAA,iBAAS;;;QA9GpIA,eAAY;QAAZA,iCAAY;QAiBZA,eAAY;QAAZA,iCAAY;QAqCFA,gBAA6B;QAA7BA,+CAA6B;QAqC7BA,gBAAoC;QAApCA,sDAAoC","names":["FormControl","Validators","DonneesPayementModel","i0","ParentPageComponent","constructor","route","httpService","http","fb","ngOnInit","id","snapshot","paramMap","get","getParent","subscribe","result","parent","body","getEnfantByParentId","enfant","initPaypal","initCarteCredit","paypalFormGroup","group","identifiant","required","password","carteDeCreditFormGroup","numeroCarte","cryptogramme","payerParPaypal","donneesPayement","value","console","log","payer","payerParCarte","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Chifae\\IdeaProjects\\GestionGarderieFront\\src\\app\\components\\parent-page\\parent-page.component.ts","C:\\Users\\Chifae\\IdeaProjects\\GestionGarderieFront\\src\\app\\components\\parent-page\\parent-page.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ParentModel} from \"../../models/Parent.model\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {HttpService} from \"../../services/http.service\";\nimport {EnfantModel} from \"../../models/Enfant.model\";\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {DonneesPayementModel} from \"../../models/donneePayement.model\";\nimport {environment} from \"../../utile/environement\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n  selector: 'app-parent-page',\n  templateUrl: './parent-page.component.html',\n  styleUrls: ['./parent-page.component.css']\n})\nexport class ParentPageComponent implements OnInit{\n    parent: ParentModel | null | undefined;\n    enfant: EnfantModel | null | undefined;\n    id: string | null | undefined;\n  paypalFormGroup !: FormGroup;\n  carteDeCreditFormGroup !: FormGroup;\n  constructor(private route:ActivatedRoute,private httpService:HttpService,\n  private http :HttpClient ,\n  private fb : FormBuilder) {\n  }\n\n  ngOnInit(): void {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.httpService.getParent(this.id).subscribe(result=>\n    {\n      this.parent=result.body;\n    })\n    this.httpService.getEnfantByParentId(this.id).subscribe(result=>\n    {\n      this.enfant=result.body;\n    })\n    this.initPaypal();\n    this.initCarteCredit();\n  }\n  initPaypal() {\n    this.paypalFormGroup = this.fb.group({\n      identifiant: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required]),\n    });\n  }\n  initCarteCredit() {\n    this.carteDeCreditFormGroup = this.fb.group({\n      numeroCarte: new FormControl('', [Validators.required]),\n      cryptogramme: new FormControl('', [Validators.required]),\n    });\n  }\n  payerParPaypal(){\n    let donneesPayement: DonneesPayementModel = new DonneesPayementModel();\n    donneesPayement.identifiant=this.paypalFormGroup.value.identifiant;\n    donneesPayement.password=this.paypalFormGroup.value.password;\n    console.log(donneesPayement)\n    // this.http.post(environment.apiUrl+\"parent/payer/\"+this.id+\"/paypal\",donneesPayement);\n    this.httpService.payer(this.id,\"paypal\",donneesPayement).subscribe(\n      result=>{\n        this.httpService.getParent(this.id).subscribe(result=>\n        {\n          this.parent=result.body;\n        })\n      }\n    );\n  }\n  payerParCarte(){\n    let donneesPayement: DonneesPayementModel = new DonneesPayementModel();\n    donneesPayement.identifiant=this.paypalFormGroup.value.identifiant;\n    donneesPayement.password=this.paypalFormGroup.value.password;\n    console.log(donneesPayement)\n    // this.http.post(environment.apiUrl+\"parent/payer/\"+this.id+\"/paypal\",donneesPayement);\n    this.httpService.payer(this.id,\"carte\",donneesPayement).subscribe(\n      result=>{\n        this.httpService.getParent(this.id).subscribe(result=>\n        {\n          this.parent=result.body;\n        })\n      }\n    );\n  }\n}\n","<app-nav-bar-top></app-nav-bar-top>\n<div *ngIf=\"parent\" class=\"container mt-5 m-5\" style=\"display: flex;justify-content: space-between;margin-bottom: 0px!important;\">\n\n  <h2 >Bienvenu {{parent.nom}} {{parent.prenom}} </h2>\n  <div style=\"border: 1px dotted gray;border-radius: 5px;padding: 10px\">\n    <p class=\"payement\">Payement\n      <span *ngIf=\"parent.statutPayement==true\" style=\"color: #0bd000\"><i class=\"fa-solid fa-sack-dollar\"></i> <i class=\"fa-sharp fa-solid fa-check\"></i></span>\n      <span *ngIf=\"parent.statutPayement==false\" style=\"color: darkred\"><i class=\"fa-solid fa-sack-dollar\"></i> <i class=\"fa-solid fa-xmark\"></i></span>\n    </p>\n  <button class=\"btn btn-light\" [disabled]=\"parent.statutPayement==true\"\n          data-bs-toggle=\"modal\" data-bs-target=\"#myModal1\"\n          style=\"float: right;width: 200px; background: #011533;color: white\" routerLink=\"/add-parent\"> <i class=\"fa-brands fa-paypal\"></i> Paypal</button>\n  <button class=\"btn btn-light\" [disabled]=\"parent.statutPayement==true\"\n          data-bs-toggle=\"modal\" data-bs-target=\"#myModal2\"\n          style=\"float: right;width: 200px;margin-right: 10px; background: #011533;color: white\" routerLink=\"/add-parent\">\n    <i class=\"fa-solid fa-credit-card\" style=\"margin-right: 10px\"></i >Carte de crédit</button>\n  </div>\n</div>\n<div *ngIf=\"parent\" style=\"display: flex; justify-content:space-evenly\">\n  <div class=\"card \">\n    <h4 class=\"card-title\">Informations du parent</h4>\n  <p class=\"champs-parent\">Nom : {{parent.nom}}</p>\n  <p class=\"champs-parent\">Prenom : {{parent.prenom}}</p>\n  <p class=\"champs-parent\">CNE : {{parent.cne}}</p>\n  <p class=\"champs-parent\">Email : {{parent.email}}</p>\n  <p class=\"champs-parent\">Numero de telephone : {{parent.tel}}</p>\n  <p class=\"champs-parent\">Statut de payement :\n    <span *ngIf=\"parent.statutPayement==true\" style=\"color: #0bd000\"><i class=\"fa-solid fa-sack-dollar\"></i> <i class=\"fa-sharp fa-solid fa-check\"></i></span>\n    <span *ngIf=\"parent.statutPayement==false\" style=\"color: darkred\"><i class=\"fa-solid fa-sack-dollar\"></i> <i class=\"fa-solid fa-xmark\"></i></span>\n  </p>\n  </div>\n  <div *ngIf=\"enfant\" class=\"card card2\">\n    <h4 class=\"card-title\">Informations de l'enfant</h4>\n    <p class=\"champs-parent\">Nom : {{enfant.nom}}</p>\n    <p class=\"champs-parent\">Prenom : {{parent.prenom}}</p>\n    <p class=\"champs-parent\">Age : {{enfant.age}}</p>\n    <p class=\"champs-parent\" *ngIf=\"enfant.niveau\">Niveau : {{enfant.niveau.nom}}</p>\n    <p class=\"champs-parent\">Infos : {{enfant.type}}</p>\n\n  </div>\n</div>\n\n<!-- The Modal -->\n<div class=\"modal fade\" id=\"myModal1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n\n      <!-- Modal Header -->\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">Payer par paypal</h4>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n\n      <div class=\"container\" style=\"width: 80%;\">\n        <div class=\"container mr-5 mt-5\">\n          <form [formGroup]=\"paypalFormGroup\" >\n            <div class=\"form-group mt-3\">\n              <label for=\"identifiant\">Identifiant </label>\n              <input type=\"text\" class=\"form-control\" id=\"identifiant\"  placeholder=\"Identifiant\" formControlName=\"identifiant\">\n            </div>\n\n            <div class=\"form-group mt-3\">\n              <label for=\"password\">Mot de passe </label>\n              <input type=\"password\" class=\"form-control\" id=\"password\"  placeholder=\"Mot de passe\" formControlName=\"password\">\n            </div>\n          </form>\n        </div>\n      </div>\n\n\n      <!-- Modal footer -->\n      <div class=\"modal-footer\" style=\"margin-top: 20px;display: flex;justify-content: center\">\n        <button type=\"button\" class=\"btn btn-primary\"  style=\"width: 80%\" (click)=\"payerParPaypal()\" data-bs-dismiss=\"modal\">Payer</button>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- The Modal -->\n<div class=\"modal fade\" id=\"myModal2\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n\n      <!-- Modal Header -->\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">Payer par carte de crédit</h4>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n\n      <div class=\"container\" style=\"width: 80%;\">\n        <div class=\"container mr-5 mt-5\">\n          <form [formGroup]=\"carteDeCreditFormGroup\" >\n            <div class=\"form-group mt-3\">\n              <label for=\"numeroCarte\">Numéro de la carte </label>\n              <input type=\"text\" class=\"form-control\" id=\"numeroCarte\"  placeholder=\"Numéro de la carte\" formControlName=\"numeroCarte\">\n            </div>\n\n            <div class=\"form-group mt-3\">\n              <label for=\"cryptogramme\">Cryptogramme </label>\n              <input type=\"cryptogramme\" class=\"form-control\" id=\"cryptogramme\"  placeholder=\"Cryptogramme\" formControlName=\"cryptogramme\">\n            </div>\n\n\n          </form>\n        </div>\n      </div>\n\n\n      <!-- Modal footer -->\n      <div class=\"modal-footer\" style=\"margin-top: 20px;display: flex;justify-content: center\">\n        <button type=\"button\" class=\"btn btn-primary\"  style=\"width: 80%\" (click)=\"payerParCarte()\" data-bs-dismiss=\"modal\">Payer</button>\n      </div>\n\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}